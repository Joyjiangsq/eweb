webpackJsonp([31],{18:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a(3),d=n(s),i={props:{classname:{type:String,"default":""},load:{type:Boolean,"default":!1},stylein:{type:Object,"default":function(){}},codevalue:{type:String,"default":"id"},headercaption:{type:Array,"default":function(){return[]}},url:{type:String},params:{type:Object,"default":function(){return{}}},totals:{},events:{type:Object,"default":function(){return{operatorHandler:function(e){},operatorRender:function(){return[]}}}},getchecks:{"default":!1},size:{type:Number,"default":10},datas:{type:Array,"default":function(){return[]}}},data:function(){return{dataList:this.datas||[],noresult:!0,loading:!1,adpArry:[]}},computed:{all:function(){for(var e=0,t=0;t<this.dataList.length;t++)this.dataList[t].checkTag&&(e+=1);return!(e<this.dataList.length)}},created:function(){0!=this.dataList.length&&this.$set("loading",!this.loading)},ready:function(){var e=this;this.load&&this.loadData(),0!=this.datas.length&&setTimeout(function(){e.noresult=!1,e.loading=!1,e.adapertDataMin(e.datas)},1)},methods:{getCheckeds:function(){for(var e=[],t=0;t<this.dataList.length;t++){var a=d["default"].cloneObj(this.dataList[t]);delete a.checkTag,delete a.selected,this.dataList[t].checkTag&&e.push(a)}return e},clickOne:function(e,t){},checkedAll:function(){if(this.all)for(var e=0;e<this.dataList.length;e++)this.dataList[e].checkTag=!1;else for(var e=0;e<this.dataList.length;e++)this.dataList[e].checkTag=!0},btnEventHandler:function(e){this.events.operatorHandler.call(this._context,e)},btnData:function(e,t){return this.events.operatorRender.call(this._context,e,t)},adapertData:function(e){if(!e.data||0==e.data.length)return this.noresult=!0,this.loading=!1,!1;this.dataList=[];for(var t=0;t<e.data.length;t++){for(var a=e.data[t],n={},s=0;s<this.headercaption.length;s++){var d=this.headercaption[s];"data"==d.type&&(n[d.labelValue]=a[d.labelValue]),d.adapterFun&&(n[d.labelValue]=d.adapterFun.call(this._context,a)),n._id=a._id,0==t?n.selected=!0:n.selected=!1,d.checkbox&&(a.checkTag=!1)}var i=o(a,n);this.dataList.push(i)}this.$set("loading",!1)},adapertDataMin:function(){if(!this.datas||0==this.datas.length)return this.dataList=[],this.noresult=!0,this.loading=!1,!1;this.dataList=[];for(var e=0;e<this.datas.length;e++){for(var t=this.datas[e],a=0;a<this.headercaption.length;a++){var n=this.headercaption[a];if(n.adapterFun){var o=n.adapterFun.call(this._context,t);t[n.labelValue]=o}n.checkbox&&(t.checkTag=!1)}t.checkTag===!1?this.dataList.push(d["default"].cloneObj(t)):this.dataList.push(t)}},loadData:function(){var e=this;return this.params.size=this.size,this.$http.get(this.$Api+(this.url||""),{params:this.params}).then(function(t){var a=t.json();e.adapertData({data:a.data.docs}),e.$set("totals",a.data.count),e.$dispatch("successload",a.data.docs)})},operatorHandler:function(e,t){this.events.operatorHandler.call(this._context,t,e)}},watch:{load:function(){this.$set("loading",!0),this.$set("noresult",!1),this.loadData()},datas:{deep:!0,handler:function(e,t){this.adapertDataMin()}},getchecks:function(){this.$dispatch("checklist",this.getCheckeds())}}};t["default"]=i},48:function(e,t,a){var n,o;n=a(93),o=a(99),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},58:function(e,t,a){var n=a(88);"string"==typeof n&&(n=[[e.id,n,""]]);a(2)(n,{});n.locals&&(e.exports=n.locals)},88:function(e,t,a){t=e.exports=a(1)(),t.push([e.id,"._1toU0 table thead th,table tbody td{white-space:nowrap;padding:5px 15px}table tbody td{padding:10px 15px}._1toU0 table .YScYH{position:ABSOLUTE;margin-left:-23px;margin-top:4px;cursor:pointer}._1toU0{width:99.9%;margin:0 auto;overflow-x:scroll}._1toU0 table{min-width:100%;width:auto}._2HyRs{display:inline-block}._2HyRs input{width:70px}._34Mbl{color:red;font-size:12px;display:block}._1szCi{border:1px solid red}._3JDfe{white-space:normal;word-break:break-all;word-wrap:break-word}._3wZfq,._158DC{background-color:#fff;border-top:0;text-align:center;color:#ccc;padding:50px 0;font-size:12px;border-bottom:1px solid #ddd;border-left:1px solid #ddd;border-right:1px solid #ddd}",""]),t.locals={tableBox:"_1toU0",potert:"YScYH",iptBox:"_2HyRs","default":"JgME6",errorRow:"_34Mbl",errorHappend:"_1szCi",wrap:"_3JDfe",noresult:"_158DC",loading:"_3wZfq"}},93:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(3),s=(n(o),a(58)),d=n(s),i=a(12),r=n(i),l=a(39),c=n(l),p=a(18),u=n(p);t["default"]={mixins:[u["default"]],props:{enterdep:{type:String,"default":"id"},curaction:{"default":"add"},enterUrl:{type:String,"default":""}},data:function(){return{tableCss:d["default"]}},created:function(){},ready:function(){},methods:{onEnterLook:function(e){this.$dispatch("loadsuccess",{ItemCode:Math.random(),ItemName:"这是产品名称",SWW:"这是产品包",FirmName:"这是二级分类",U_ThreeL:"这是三级分类",U_Brand:"这是品牌",U_CardName:"这是供应商",U_Modle:"这是型号",U_Series:"这是系列",U_MQuality:"这是材质",Spec:"这是规格",stock:20,SalUnitMsr:"这是单位"})},moreClikHandler:function(){this.$dispatch("more")}},attached:function(){},components:{iconbar:c["default"],icon:r["default"]}}},99:function(e,t){e.exports='<div :class=tableCss.tableBox :style=stylein><table :class=classname><thead><tr><th v-for="tone in headercaption" :style=tone.style><input type=checkBox name=name value="" v-if=tone.checkbox :class=tableCss.checkTag @click=checkedAll v-model=all> {{tone.name}}</th></tr></thead><tbody><tr v-for="(order, done)  in dataList"><td v-for="sone in headercaption" :class=tableCss[sone.attr]><input type=checkBox name=name value="" v-if=sone.checkbox :class=tableCss.checkTag :checked=done.checkTag v-model=done.checkTag @click=clickOne(done,order)><span v-if="sone.type == \'data\'"><span v-if="sone.attr == \'price\'">￥</span>{{done[sone.labelValue] || \'-\'}}</span><div v-if="sone.type == \'edit\'"><div :class=tableCss.iptBox><input type=text name=name :class=tableCss[done[sone.labelValue].defCss] :value=done[sone.labelValue].def @blur="done[sone.labelValue].validateFun(done, index)" v-model=done[sone.labelValue].def><div :class=tableCss.errorRow>{{done[sone.labelValue].errorMsg}}</div></div></div><div v-if="sone.type == \'component\'"><span v-if=done[sone.labelValue].tb_disabled>-</span><span v-widget="{widget: sone, data: done, cname: sone.cname}" v-else></span><div :class=tableCss.errorRow>{{done[sone.labelValue].errorMsg}}</div></div><div v-if="sone.type == \'componentspec\'"><span v-widget="{widget: sone, data: done, cname: sone.cname}"></span></div><span v-if="sone.type == \'operator\'"><iconbar :buttons=btnData(done) @btnclick=btnEventHandler></iconbar></span></td></tr><tr v-if="curaction == \'add\'"><td v-for="(index, sone) in headercaption"><input type=text name=name value="" :class=tableCss.enterKey @keyup.enter=onEnterLook v-if="index == 1"><span :class=tableCss.potert @click=moreClikHandler v-if="index == 1"><icon iconname=icon-elip></icon></span></td></tr></tbody></table></div>'},370:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(48),s=n(o);t["default"]={data:function(){return{headercaption:[{name:"",checkbox:!0},{name:"交易类型",labelValue:"type",type:"data"},{name:"订单号",labelValue:"orderid",type:"data"},{name:"交易金额",labelValue:"cash",type:"data",attr:"price"},{name:"交易日期",labelValue:"date",type:"data"},{name:"收款账号",labelValue:"account",type:"edit"},{name:"收款账号名称",labelValue:"name",type:"data"},{type:"operator",name:""}],loadtag:!1,testData:[{orderid:"xxx1",name:"杭州谷鼎暖通设备有限公司",date:"xxx",type:"xxx",contact:"xxx",phone:"xxx",account:"xxx",cash:"12"},{orderid:"xxx2",name:"杭州谷鼎暖通设备有限公司",date:"xxx",type:"xxx",contact:"xxx",phone:"xxx",account:"xxx",cash:"12"},{orderid:"xxx3",name:"杭州谷鼎暖通设备有限公司",date:"xxx",type:"xxx",contact:"xxx",phone:"xxx",account:"xxx",cash:"12"},{orderid:"xxx4",name:"杭州谷鼎暖通设备有限公司",date:"xxx",type:"xxx",contact:"xxx",phone:"xxx",account:"xxx",cash:"12"}],tableEvents:{operatorRender:function(e){return[{action:"delete",icon:"icon-delete"}]},operatorHandler:function(e){console.log(e)}}}},ready:function(){},attached:function(){},methods:{checkedchange:function(e){console.log(e)}},components:{tb:s["default"]}}},517:function(e,t,a){var n,o;n=a(370),o=a(605),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},605:function(e,t){e.exports="<tb :headercaption=headercaption :loadtag=loadtag :datas=testData codevalue=orderid @checkedchange=checkedchange :events=tableEvents enterdep=type></tb>"}});