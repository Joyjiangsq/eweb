webpackJsonp([16],{4:function(e,t,a){var s,i;s=a(31),i=a(39),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},5:function(e,t,a){var s,i;s=a(32),i=a(40),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},6:function(e,t,a){var s,i;a(44),s=a(41),i=a(45),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},12:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={props:{classname:{type:String,"default":"fromItem"},labelname:{type:String,"default":""},formname:{type:String,"default":"formname"},value:{"default":""},validatefun:{type:Function},must:{type:Boolean,"default":!0},validatestart:{type:Boolean,"default":!1},vertical:{type:Boolean,"default":!1},ingnore:{type:Boolean,"default":!1}},data:function(){return{errormsg:"",error:!1,watchIgnore:!1}},watch:{validatestart:function(){this.must&&(this.value&&""!=this.value?this.$set("watchIgnore",!1):(this.$dispatch("onvalidate",{res:"fail",msg:"该项必须填写"}),this.$set("errormsg","该项必须填写"),this.$set("error",!0),this.$set("watchIgnore",!0)))}}};t["default"]=a},13:function(e,t,a){var s=a(56);"string"==typeof s&&(s=[[e.id,s,""]]);a(2)(s,{});s.locals&&(e.exports=s.locals)},15:function(e,t,a){var s,i;s=a(91),i=a(97),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},16:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},n=a(3),o=s(n),r={props:{classname:{type:String,"default":""},load:{type:Boolean,"default":!1},stylein:{type:Object,"default":function(){}},codevalue:{type:String,"default":"id"},headercaption:{type:Array,"default":function(){return[]}},url:{type:String},params:{type:Object,"default":function(){return{}}},totals:{},events:{type:Object,"default":function(){return{operatorHandler:function(e){},operatorRender:function(){return[]}}}},getchecks:{"default":!1},size:{type:Number,"default":10},datas:{type:Array,"default":function(){return[]}}},data:function(){return{dataList:this.datas||[],noresult:!0,loading:!1,adpArry:[]}},computed:{all:function(){for(var e=0,t=0;t<this.dataList.length;t++)this.dataList[t].checkTag&&(e+=1);return!(e<this.dataList.length)}},created:function(){0!=this.dataList.length&&this.$set("loading",!this.loading)},ready:function(){var e=this;this.load&&this.loadData(),0!=this.datas.length&&setTimeout(function(){e.noresult=!1,e.loading=!1,e.adapertDataMin(e.datas)},1)},methods:{getCheckeds:function(){for(var e=[],t=0;t<this.dataList.length;t++){var a=o["default"].cloneObj(this.dataList[t]);delete a.checkTag,delete a.selected,this.dataList[t].checkTag&&e.push(a)}return e},clickOne:function(e,t){},checkedAll:function(){if(this.all)for(var e=0;e<this.dataList.length;e++)this.dataList[e].checkTag=!1;else for(var e=0;e<this.dataList.length;e++)this.dataList[e].checkTag=!0},btnEventHandler:function(e){this.events.operatorHandler.call(this._context,e)},btnData:function(e,t){return this.events.operatorRender.call(this._context,e,t)},adapertData:function(e){if(!e.data||0==e.data.length)return this.noresult=!0,this.loading=!1,!1;this.dataList=[];for(var t=0;t<e.data.length;t++){for(var a=e.data[t],s={},n=0;n<this.headercaption.length;n++){var o=this.headercaption[n];"data"==o.type&&(s[o.labelValue]=a[o.labelValue]),o.adapterFun&&(s[o.labelValue]=o.adapterFun.call(this._context,a)),s._id=a._id,0==t?s.selected=!0:s.selected=!1,o.checkbox&&(a.checkTag=!1)}var r=i(a,s);this.dataList.push(r)}this.$set("loading",!1)},adapertDataMin:function(){if(!this.datas||0==this.datas.length)return this.dataList=[],this.noresult=!0,this.loading=!1,!1;this.dataList=[];for(var e=0;e<this.datas.length;e++){for(var t=this.datas[e],a=0;a<this.headercaption.length;a++){var s=this.headercaption[a];if(s.adapterFun){var i=s.adapterFun.call(this._context,t);t[s.labelValue]=i}s.checkbox&&(t.checkTag=!1)}t.checkTag===!1?this.dataList.push(o["default"].cloneObj(t)):this.dataList.push(t)}},loadData:function(){var e=this;return this.params.size=this.size,this.$http.get(this.$Api+(this.url||""),{params:this.params}).then(function(t){var a=t.json();e.adapertData({data:a.data.docs}),e.$set("totals",a.data.count),e.$dispatch("successload",a.data.docs)})},operatorHandler:function(e,t){this.events.operatorHandler.call(this._context,t,e)}},watch:{load:function(){this.$set("loading",!0),this.$set("noresult",!1),this.loadData()},datas:{deep:!0,handler:function(e,t){this.adapertDataMin()}},getchecks:function(){this.$dispatch("checklist",this.getCheckeds())}}};t["default"]=r},17:function(e,t,a){var s=a(23);"string"==typeof s&&(s=[[e.id,s,""]]);a(2)(s,{});s.locals&&(e.exports=s.locals)},19:function(e,t,a){var s,i;s=a(27),i=a(29),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},20:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={props:{flag:{type:Boolean,"default":!1},modalshow:{type:Boolean,"default":!1},events:{type:Object,"default":function(){return{footerClick:function(e){}}}},buttons:{type:[],"default":function(){return[{name:"取消",icon:"icon-close1",action:"close"},{name:"确定",icon:"icon-check",action:"confirm",type:"btn-primary"}]}},title:{type:String,"default":"标题"}},data:function(){return{btnEvent:{btnClick:function(e){"close"==e.action&&this.hide(),this.events.footerClick.call(this._context,e,this.hide),this.$dispatch("dialogclick",e,this.hide)}}}},computed:{},ready:function(){},attached:function(){},methods:{hide:function(){this.modalshow=!1,this.$dispatch("dialogclick",{action:"close"})}},watch:{flag:function(){this.modalshow=!this.modalshow}}};t["default"]=a},21:function(e,t,a){var s=a(28);"string"==typeof s&&(s=[[e.id,s,""]]);a(2)(s,{});s.locals&&(e.exports=s.locals)},22:function(e,t,a){var s,i;s=a(58),i=a(60),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},23:function(e,t,a){t=e.exports=a(1)(),t.push([e.id,"._1br7V{border:1px solid #ddd;background-color:#fff}._3Ql65{padding-top:20px}._65pA8{padding:12px;min-height:40px}._3SZgH{background-color:#f8f8f8;border-bottom:1px solid #ddd}._2Vejr,._3SZgH{padding:12px}._3FquF{background-color:#fff;padding:20px}.Yo0Qj{padding-bottom:0}",""]),t.locals={panelBox:"_1br7V",panelIn:"_3Ql65",panelContainer:"_65pA8",panelTitle:"_3SZgH",panelFooter:"_2Vejr",pagePanel:"_3FquF",bottom:"Yo0Qj"}},27:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(21),n=s(i),o=a(9),r=s(o),d=a(10),l=s(d),c=a(20),p=s(c);t["default"]={mixins:[p["default"]],props:{classname:{"default":""},scroll:{"default":!1}},data:function(){return{dCss:n["default"]}},computed:{},ready:function(){},attached:function(){},methods:{},watch:{},components:{icon:r["default"],btnbar:l["default"]}}},28:function(e,t,a){t=e.exports=a(1)(),t.push([e.id,".W680K{position:fixed;background:rgba(0,0,0,.2);top:0;left:0;right:0;bottom:0;transition:opacity .4s ease;-webkit-transition:opacity .4s ease;-moz-transition:opacity .4s ease;width:100%;height:100%;z-index:1111111;display:table}._3rRTc{display:table-cell;vertical-align:middle;text-align:center}.pMGOC{background-color:#fff;display:inline-block;border-radius:2px;box-shadow:0 2px 8px rgba(0,0,0,.33);transition:all .3s ease;-webkit-transition:all .3s ease;-moz-transition:all .3s ease}.pMGOC ._3Fv53{background:-webkit-linear-gradient(#fff,#f2f2f2);background:linear-gradient(#fff,#f2f2f2);FILTER:progid:DXImageTransform.Microsoft.Gradient(gradientType=0,startColorStr=white,endColorStr=#f2f2f2);text-align:left;padding:10px;border-bottom:1px solid #ddd}.pMGOC ._3Fv53 ._1UwBZ{position:absolute;right:10px;cursor:pointer}._2Ducs{padding:10px;text-align:left;min-width:335px;max-width:900px;max-height:650px;overflow-y:auto}@media screen and (max-height:900px){._2Ducs{max-height:487px}}.v4jEF{overflow-y:scroll}.pMGOC ._3MsTX{text-align:right;padding:10px;border-top:1px solid #eae8e8}.pMGOC ._-2DoX{text-align:center;height:100px;line-height:100px;color:gray;font-size:16px}._2mu_2{font-size:30px;vertical-align:middle;margin-right:12px;color:#ecdf1d}",""]),t.locals={dialogBox:"W680K",dialogIn:"_3rRTc",dialog:"pMGOC",dialogTitle:"_3Fv53",close:"_1UwBZ",dialogContent:"_2Ducs",scrollLimit:"v4jEF",dialogFooter:"_3MsTX",tipsIn:"_-2DoX",warninfo:"_2mu_2"}},29:function(e,t){e.exports="<div :class=dCss.dialogBox v-show=modalshow><div :class=dCss.dialogIn><div :class=\"[dCss.dialog, 'bounce']\"><div :class=dCss.dialogTitle>{{title}}<span :class=dCss.close @click=hide><icon iconname=icon-close></icon></span></div><div :class=\"[dCss.dialogContent,scroll?dCss.scrollLimit:'',classname]\"><slot name=containerDialog>这是内容</slot></div><div :class=dCss.dialogFooter><slot name=footerDialog><btnbar :buttons=buttons :events=btnEvent></btnbar></slot></div></div></div></div>"},31:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(30),n=(s(i),a(3)),o=(s(n),a(36)),r=s(o),d=a(10),l=s(d),c=a(38),p=s(c),u=a(16),f=s(u);t["default"]={mixins:[f["default"]],props:{needindex:{"default":!0},needselected:{"default":!1}},data:function(){return{tableCss:r["default"],oldIndex:0}},created:function(){this.headercaption[0].type&&"index"!=this.headercaption[0].type&&this.needindex&&this.headercaption.unshift({type:"index"})},methods:{clickRow:function(e,t){t.selected||(this.dataList[this.oldIndex].selected=!1,t.selected=!0,this.$set("oldIndex",e),this.$dispatch("rowclick",t))}},ready:function(){},attached:function(){},components:{btnbar:l["default"],iconbar:p["default"]}}},32:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(37),n=s(i);t["default"]={props:{curpage:{"default":1},hash:{"default":!0},size:{type:Number,"default":10},totals:{type:Number,"default":0},pix:{type:Number,"default":5},events:{type:Object,"default":function(){return{pageChange:function(e){}}}}},data:function(){return{pageCss:n["default"],tPages:0,indexBtn:n["default"].defTheme,prevBtn:n["default"].defTheme,nextBtn:n["default"].defTheme,lastBtn:n["default"].defTheme,gotoBtn:n["default"].defTheme,targetpage:"",pageArry:[]}},created:function(){this.validateBtn()},computed:{},ready:function(){},attached:function(){},methods:{renderPages:function(){var e=[];this.curpage=isNaN(1*this.curpage)?1:1*this.curpage;for(var t=this.pix;t>0;t--)this.curpage-t<=0||e.push(this.curpage-t);e.push(this.curpage);for(var t=1;t<=this.pix&&!(this.curpage+t>this.tPages);t++)e.push(this.curpage+t);this.pageArry=e},validateBtn:function(){return this.indexBtn=this.prevBtn=this.lastBtn=this.nextBtn=this.pageCss.defTheme,1==this.curpage?(this.indexBtn=this.prevBtn=this.pageCss.closeBtn,!1):this.curpage==this.tPages?(this.lastBtn=this.nextBtn=this.pageCss.closeBtn,!1):void 0},clickPage:function(e){if(!e||isNaN(1*e)||e<1||e>this.tPages)return!1;var t=this.$route.query,a=this.$route.path.split("?")[0];t.page=1*e,this.curpage=1*e,this.hash?this.$router.go({path:a,query:t}):this.$dispatch("pagechange",{page:this.curpage}),this.validateBtn(),this.renderPages()}},watch:{totals:function(){this.tPages=Math.ceil(this.totals/this.size)},tPages:function(){console.log(this.tPages),this.renderPages()}},components:{}}},33:function(e,t,a){t=e.exports=a(1)(),t.push([e.id,".qYRdM{border-bottom:0;border-left:0;margin-top:10px;margin-bottom:10px}.qYRdM thead{border:1px solid #ddd}.qYRdM table{border:0}._3gQj7 .DKd_g{text-align:right}._3gQj7 .ES9EJ{text-align:left}._3gQj7 ._2Fcxp{display:inline-block;margin:8px;vertical-align:middle}._1C5w-,.m2YMN{background-color:#fff;border-top:0;text-align:center;color:#ccc;padding:50px 0;font-size:12px;border-bottom:1px solid #ddd;border-left:1px solid #ddd;border-right:1px solid #ddd}._22GyM{background-color:#f2f2f2}._7qsuZ{background-color:#fcf3e2}",""]),t.locals={tablelist:"_3gQj7",tableBox:"qYRdM",price:"DKd_g",desc:"ES9EJ",checkTag:"_2Fcxp",noresult:"_1C5w-",loading:"m2YMN",active:"_22GyM",selectedRow:"_7qsuZ"}},34:function(e,t,a){t=e.exports=a(1)(),t.push([e.id,"._9svhg{margin:10px}._9svhg .VX8EP{text-align:center}._9svhg .VX8EP span{margin-right:10px}._9svhg .ZtB2p{color:#666;font-size:13px;position:absolute;top:-2px;right:0}._9svhg .ZtB2p input{height:28px;width:30px;text-indent:5px;margin-right:10px}._9svhg .ZtB2p ._23Yvb,._9svhg .ZtB2p input{vertical-align:middle}._9svhg ._3iO5h{color:#999;border:1px solid #999;padding:0 5px;background-color:#fff;border-radius:3px;font-size:13px;height:28px;line-height:28px}._9svhg ._3zC7v ._1K6_e{color:#e7551e;border:1px solid #e7551e}._9svhg ._23Yvb{border:1px solid #ddd;padding:0 5px;background-color:#fff;color:#666;cursor:pointer;border-radius:3px;font-size:13px;height:28px;line-height:28px}._9svhg ._23Yvb:active{box-shadow:0 0 1px 0 #e7551e;background-color:#f3f3f3}._9svhg ._3zC7v span:hover,._9svhg ._23Yvb:hover{color:#e7551e;border:1px solid #e7551e}._9svhg ._3zC7v span{border:1px solid #ddd;background-color:#fff;border-radius:3px;color:#666;font-size:13px;width:20px;padding:0 3px;height:28px;line-height:28px;text-align:center;cursor:pointer}._9svhg ._3zC7v span:last-child{margin-right:0}._9svhg ._3zC7v span:hover,._9svhg ._23Yvb:hover{background-color:#f4ad6e;border:1px solid #f4ad6e;color:#fff}",""]),t.locals={paginationBox:"_9svhg",pageCenter:"VX8EP",gotoBox:"ZtB2p",defTheme:"_23Yvb",closeBtn:"_3iO5h",pageIndex:"_3zC7v",active:"_1K6_e"}},36:function(e,t,a){var s=a(33);"string"==typeof s&&(s=[[e.id,s,""]]);a(2)(s,{});s.locals&&(e.exports=s.locals)},37:function(e,t,a){var s=a(34);"string"==typeof s&&(s=[[e.id,s,""]]);a(2)(s,{});s.locals&&(e.exports=s.locals)},39:function(e,t){e.exports='<div :class=tableCss.tableBox :style=stylein><table :class=classname><thead><tr><th v-for="tone in headercaption" :style=tone.style>{{tone.name}}<span v-if=tone.sort>升序</span><span v-if=tone.sort>降序</span></th></tr></thead><tbody v-show="loading? false:noresult? false: true"><tr v-for="(order, done)  in dataList" :class="[done.selected && needselected?tableCss.selectedRow:\'\',order%2 == 1? tableCss.active:\'\']" @click="clickRow(order, done)"><td v-for="sone in headercaption" :class=tableCss[sone.attr]><span v-if="sone.type == \'data\'"><span v-if="sone.attr == \'price\'">￥</span>{{{done[sone.labelValue]?done[sone.labelValue]:(done[sone.labelValue]==0?0:\'-\')}}}</span><span v-if="sone.type == \'component\'"><span v-widget="{widget: sone, data: done, cname: sone.cname}"></span></span><span v-if="sone.type == \'index\'">{{order + 1}}</span><span v-if="sone.type == \'operator\'"><iconbar v-if=sone.icon :buttons=btnData(done,order) @btnclick=btnEventHandler></iconbar><btnbar :buttons=btnData(done,order) @btnclick=btnEventHandler v-else></btnbar></span></td></tr></tbody></table><div v-show=noresult :class=tableCss.noresult>没有数据</div><div v-show=loading :class=tableCss.loading>加载中...</div></div>'},40:function(e,t){e.exports='<div :class=pageCss.paginationBox><div :class=pageCss.pageCenter><span :class=indexBtn @click=clickPage(1)>首页</span><span :class=prevBtn @click=clickPage(curpage-1)>上一页</span><span :class=pageCss.pageIndex><span v-for="one in pageArry" @click=clickPage(one) :class="one == curpage?pageCss.active:\'\'">{{one}}</span></span><span :class=nextBtn @click=clickPage(curpage+1)>下一页</span><span :class=lastBtn @click=clickPage(tPages)>尾页</span></div><div :class=pageCss.gotoBox>跳转至 <input type=text name=name v-model="targetpage  | intonly"><span :class=gotoBtn @click=clickPage(targetpage)>确定</span></div></div>'},41:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(17),n=s(i);t["default"]={props:{classname:{type:String,"default":""},direct:{type:String,"default":""}},data:function(){return{pCss:n["default"]}},computed:{},ready:function(){},attached:function(){},methods:{},components:{}}},42:function(e,t,a){t=e.exports=a(1)(),t.push([e.id,"",""])},44:function(e,t,a){var s=a(42);"string"==typeof s&&(s=[[e.id,s,""]]);a(2)(s,{});s.locals&&(e.exports=s.locals)},45:function(e,t){e.exports='<div :class=classname><div :class="[pCss.pagePanel, pCss[direct]]"><slot></slot></div></div>'},49:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),n=a(8),o=a(11),r=s(o),d=a(4),l=s(d),c=a(6),p=s(c),u=a(10),f=s(u),h=a(19),m=s(h),g=a(5),v=s(g),x={data:function(){return{load:!1,searchEvents:{onSearch:function(e){this.$set("searchParams",e)}},searchParams:{page:1},totals:0}},attached:function(){var e=this;this.dealFun&&setTimeout(function(){e.dealFun()})},methods:{resetParams:function(e){for(var t in e)e[t]=""},loadlist:function(){this.$set("load",!this.load)},showMsg:function(e,t){(0,n.showTips)(this.$store,{type:e,msg:t})}},route:{data:function(){(0,i.setTitle)(this.$store,this.moduleName),this.searchParams.page=this.$route.query.page||1,this.loadlist()}},components:{search:r["default"],tb:l["default"],pagepanel:p["default"],btnbar:f["default"],dialog:m["default"],pg:v["default"]}};t["default"]=x},56:function(e,t,a){t=e.exports=a(1)(),t.push([e.id,"._3Ycql{display:inline-block;margin-top:20px;min-width:330px}._3Ycql input{width:200px}._2ZnXG{min-width:664px}._1-TMq{display:inline-block;margin-top:-3px}._1Y-wa{position:absolute;left:0;color:red;font-size:12px}._3DZU6{display:block;min-width:330px;margin-right:auto;margin-left:auto}._3DZU6:last-child{margin-bottom:20px}._22Qz4{display:inline-block;min-width:110px;vertical-align:top;text-align:right}._1Khhu{color:red}._2r6mz,._2xEcj{vertical-align:middle;width:173px}._2xEcj{display:block;margin-top:10px}._3kuYZ{margin-bottom:10px}._1Ma_4{position:absolute;left:212px;margin-top:-22px;cursor:pointer}._1kEbz{width:200px}._1kKmy{max-height:200px;overflow-y:auto;margin-top:-3px}._3Ycql ._3e-hD{padding-right:30px;width:170px}._2RJ_g{font-size:12px;font-style:italic;color:gray;position:absolute;display:inline-block;right:0;top:6px;text-align:right;padding-right:10px}",""]),t.locals={formOne:"_3Ycql",formOneTwo:"_2ZnXG",formtarget:"_1-TMq",errorMsg:"_1Y-wa",verticalitem:"_3DZU6",labelDesc:"_22Qz4",must:"_1Khhu",casinput:"_2r6mz",casinputArr:"_2xEcj",casrowone:"_3kuYZ",casclosebtn:"_1Ma_4",limitCombo:"_1kEbz",arryBox:"_1kKmy",unitStay:"_3e-hD",unit:"_2RJ_g"}},58:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var _formItem=__webpack_require__(13),_formItem2=_interopRequireDefault(_formItem),_mixinForm=__webpack_require__(12),_mixinForm2=_interopRequireDefault(_mixinForm);exports["default"]={mixins:[_mixinForm2["default"]],props:{unit:{"default":""},placeholder:{type:String,"default":"请填写"},inputtype:{type:String,"default":"text"},read:{type:Boolean,"default":!1},number:{type:Boolean,"default":!1},length:{"default":0},decemal:{type:Number,"default":0},email:{type:Boolean,"default":!1},phone:{type:Boolean,"default":!1}},data:function(){return{css:_formItem2["default"]}},computed:{},ready:function(){},attached:function(){},methods:{keyDownHandler:function(e){return console.log(e.keyCode),8==e.keyCode||(this.number&&!this.numberValidate(e.keyCode)?(e.preventDefault(),!1):this.length&&1*this.length==this.value.length?(e.preventDefault(),!1):void 0)},focusHandler:function(){this.$set("error",!1)},numberValidate:function(e){return e>=48&&e<=57||e>=96&&e<=105},blurHandler:function(){this.$dispatch("blurhandler",{name:this.formname,value:this.value})}},components:{},watch:{validatestart:function validatestart(){if(this.watchIgnore)return!1;if(this.ingnore)return this.$dispatch("onvalidate",{res:"success",msg:"被忽略的项目"}),!1;if(this.email){if(!/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(this.value))return this.$dispatch("onvalidate",{res:"fail",msg:"邮箱格式不正确"}),this.$set("errormsg","邮箱格式不正确"),this.$set("error",!0),!1}else if(this.phone){if(!/^1[3|4|5|7|8]\d{9}$/.test(this.value))return this.$dispatch("onvalidate",{res:"fail",msg:"手机号格式不正确"}),this.$set("errormsg","手机号格式不正确"),this.$set("error",!0),!1}else if(this.decemal){var rep="/^[0-9]+(.[0-9]{"+this.decemal+"})$/";if(rep=eval(rep),!rep.test(this.value))return this.$dispatch("onvalidate",{res:"fail",msg:"小数位格式不正确"}),this.$set("errormsg","小数位格式不正确"),this.$set("error",!0),!1}else if(this.number&&isNaN(this.value))return this.$dispatch("onvalidate",{res:"fail",msg:"只允许填写数字"}),this.$set("errormsg","只允许填写数字"),this.$set("error",!0),!1;if(this.validatefun&&"function"==typeof this.validatefun){var result=this.validatefun.call(this._context,this.value);if("fail"==result.res)return this.$set("errormsg",result.msg),this.$set("error",!0),!1}this.$dispatch("onvalidate",{res:"success",msg:"验证成功",value:this.value,name:this.formname})}}}},60:function(e,t){e.exports='<div :class="[css.formOne, classname, vertical?css.verticalitem:\'\']"><label for="" v-if=labelname :class=css.labelDesc><span v-if=must :class=css.must>*</span>{{labelname}}</label><div :class=css.formtarget><input :type=inputtype :class="unit?css.unitStay:\'\'" @blur=blurHandler name=name :value=value v-model=value :placeholder=placeholder :disabled=read @keydown=keyDownHandler @focus=focusHandler><span :class=css.unit v-if=!!unit>{{unit}}</span><div :class=css.errorMsg v-show=error>{{errormsg}}</div></div></div>'},91:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(21),n=s(i),o=a(9),r=s(o),d=a(10),l=s(d),c=a(20),p=s(c);t["default"]={mixins:[p["default"]],props:{type:{type:String,"default":"warn"},msg:{type:String,"default":""}},data:function(){return{dCss:n["default"]}},computed:{},ready:function(){},attached:function(){},methods:{},watch:{},components:{icon:r["default"],btnbar:l["default"]}}},97:function(e,t){e.exports="<div :class=dCss.dialogBox v-show=modalshow><div :class=dCss.dialogIn><div :class=\"[dCss.dialog, 'bounce']\"><div :class=dCss.dialogContent><div :class=dCss.tipsIn><icon iconname=icon-warn :classname=dCss.warninfo></icon>{{msg}}</div></div><div :class=dCss.dialogFooter><slot name=footerDialog><btnbar :buttons=buttons :events=btnEvent></btnbar></slot></div></div></div></div>"},100:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.moduleMap="MODULEMAP",t.roleData=[{name:"设计师",id:1},{name:"销售",id:2},{name:"客服",id:3}],t.decorateStyle=[{name:"中式",id:1},{name:"简式",id:2},{name:"欧式",id:3},{name:"地中海式",id:4},{name:"田园",id:5},{name:"美式",id:6},{name:"其他",id:-2}],t.fromConst=[{name:"分站提供",id:"分站提供"},{name:"400呼入",id:"400呼入"},{name:"官网",id:"官网"},{name:"天猫",id:"天猫"},{name:"淘宝",id:"淘宝"},{name:"微信",id:"微信"},{name:"微商城",id:"微商城"},{name:"转介绍",id:"转介绍"},{name:"其他",id:"其他"}],t.houseType=[{name:"毛坯新房",id:1},{name:"二手房",id:2}],t.packageType=[{name:"国民包",id:1},{name:"名品包",id:2},{name:"尊享包",id:3}],t.orderType=[{name:"正常订单",id:14},{name:"售后订单",id:81}],t.orderStatus=[{name:"待采购",id:0},{name:"工厂提货",id:1},{name:"D仓收货",id:2},{name:"S仓提货",id:3},{name:"S仓收货",id:4},{name:"分站提货",id:5},{name:"分站签收",id:6},{name:"工厂接单",id:7},{name:"店长驳回",id:8},{name:"e站驳回",id:9}],t.rolesE=[{name:"总部客服",id:7},{name:"总部设计师",id:8}],t.rolesS=[{name:"店长",id:"店长"},{name:"精算师",id:"精算师"},{name:"销售员",id:"销售员"},{name:"材料员",id:"材料员"},{name:"财务",id:"财务"}],t.series=[{name:"国民包",id:"国民包"},{name:"名品包",id:"名品包"},{name:"吸塑",id:"吸塑"},{name:"实木",id:"实木"},{name:"尊享包",id:"尊享包"}],t.shapeDatas=[{name:"一字型",id:"一字型"},{name:"L字型",id:"L字型"},{name:"U字型",id:"U字型"},{name:"其它",id:"其它"}],t.positionDatas=[{name:"厨房外",id:"厨房外"},{name:"厨房内",id:"厨房内"}],t.artDatas=[{name:"台上工艺",id:"台上工艺"},{name:"台下工艺",id:"台下工艺"}],t.fiveDatas=[{label:"调味篮",id:"调味篮",checked:!1},{label:"碗碟篮",id:"碗碟篮",checked:!1},{label:"锅篮",id:"锅篮",checked:!1}],t.pipeDatas=[{name:"施工包下水主管",id:"施工包下水主管"},{name:"厨柜包下水主管",id:"厨柜包下水主管"}],t.rq_pipeDatas=[{name:"厨柜包燃气管",id:"厨柜包燃气管"},{name:"台面包燃气管",id:"台面包燃气管"},{name:"不包燃气管",id:"不包燃气管"}]},130:function(e,t,a){var s,i;s=a(131),i=a(136),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},131:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(13),n=s(i),o=a(12),r=s(o),d=a(81),l=s(d);t["default"]={mixins:[r["default"]],props:{read:{},keyid:{"default":"id"},keyname:{"default":"name"},dropfixed:{"default":""},datas:{"default":function(){return[]}}},data:function(){return{css:n["default"]}},computed:{},ready:function(){},attached:function(){},methods:{dropclick:function(e){console.log(e),this.$set("error",!1),this.$set("value",e),this.$dispatch("cashandler",{name:this.formname,value:e})},itemclick:function(e){this.$dispatch("itemclick",e)}},components:{comb:l["default"]},watch:{validatestart:function(){return!this.watchIgnore&&void this.$dispatch("onvalidate",{res:"success",msg:"验证成功",value:this.value,name:this.formname})},value:function(){console.log(this.value)}}}},136:function(e,t){e.exports='<div :class="[css.formOne, classname, vertical?css.verticalitem:\'\']"><label for="" :class=css.labelDesc><span v-if=must :class=css.must>*</span>{{labelname}}</label><div :class=css.formtarget><comb :keyid=keyid :labelname=keyname @itemclick=itemclick :read=read :dropfixed=dropfixed :classname=css.limitCombo :datas=datas :value=value @dropclick=dropclick></comb><div :class=css.errorMsg v-show=error>{{errormsg}}</div></div></div>'},383:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(485),n=s(i),o=a(22),r=s(o),d=a(3),l=s(d),c=a(130),p=s(c),u=a(100),f=a(15),h=s(f),m=a(49),g=s(m),v=[{name:"员工编号",labelValue:"CardCode",type:"data"},{name:"员工姓名",labelValue:"CardName",type:"data"},{name:"职位",labelValue:"roles",type:"data"},{name:"联系方式",labelValue:"phone",type:"data"},{name:"创建人",labelValue:"createdByName",type:"data"},{name:"时间",labelValue:"createAt",type:"data",adapterFun:function(e){return l["default"].formate(new Date(e.createAt),"yyyy-mm-dd")}},{type:"operator",name:"操作"}];t["default"]={mixins:[g["default"]],data:function(){return{epCss:n["default"],moduleName:"员工管理",validateSuccess:!0,curItem:{},curAction:"",optitle:"",deleteTag:!1,flagdep:!1,validate:!1,addParams:{CardName:"",roles:"",phone:""},headercaption:v,tableEvents:{operatorRender:function(e){return[{name:"编辑",action:"edit",icon:"icon-edit",data:e},{name:"删除",action:"delete",icon:"icon-delete",data:e}]},operatorHandler:function(e){this.$set("curItem",e.data),"delete"==e.action?this.$set("deleteTag",!this.deleteTag):"edit"==e.action&&(this.$set("optitle","编辑"),this.$set("curAction","edit"),this.addParams.CardName=e.data.CardName,this.addParams.phone=e.data.phone,this.addParams.roles=e.data.roles,this.flagdep=!this.flagdep)}},btnsData:[{name:"新增",icon:"icon-add",action:"add"},{name:"导出",icon:"icon-share",action:"export"}],btnEvents:{btnClick:function(e){"add"==e.action&&(this.$set("optitle","新增"),this.$set("curAction","new"),this.flagdep=!this.flagdep)}}}},computed:{sdata:function(){var e=this.$route.query;return[{type:"combobox",keyname:"roles",labelname:"name",keyid:"id",value:e.roles||"",datas:this.getRoles,labelcaption:"职位："},{type:"text",value:e.CardCode||"",keyname:"CardCode",labelcaption:"员工编号:"},{type:"text",value:e.CardName||"",keyname:"CardName",labelcaption:"员工姓名:"}]},getRoles:function(){return l["default"].isEAdmin()?u.rolesE:u.rolesS}},ready:function(){},attached:function(){},methods:{validateHandler:function(e){"fail"==e.res&&this.$set("validateSuccess",!1)},diaologClick:function(e){var t=this;"confirm"==e.action?(this.$set("validate",!this.validate),setTimeout(function(){t.validateSuccess?"new"==t.curAction?t.addEmp():t.eidtEmp():t.$set("validateSuccess",!0)})):this.resetParams(this.addParams)},addEmp:function(){var e=this;this.$http.post(this.$Api+"employees",this.addParams).then(function(t){e.$set("flagdep",!e.flagdep),e.loadlist(),e.resetParams(e.addParams),e.showMsg("success","新增成功！")})},eidtEmp:function(){var e=this;this.addParams._id=this.curItem._id,this.$http.put(this.$Api+"employees",this.addParams).then(function(t){e.$set("flagdep",!e.flagdep),e.loadlist(),e.resetParams(e.addParams),e.showMsg("success","编辑成功！")})},confirmDelete:function(e){var t=this;"confirm"==e.action&&this.$http["delete"](this.$Api+"employees",{params:{CardCode:this.curItem.CardCode}}).then(function(e){t.$set("deleteTag",!t.deleteTag),t.loadlist(),t.showMsg("success","删除成功！")})}},components:{formtext:r["default"],formcb:p["default"],dialogtip:h["default"]}}},461:function(e,t,a){t=e.exports=a(1)(),t.push([e.id,"._2IJWs{overflow:scroll}",""]),t.locals={empSearch:"_3oieK",tBox:"_2IJWs"}},485:function(e,t,a){var s=a(461);"string"==typeof s&&(s=[[e.id,s,""]]);a(2)(s,{});s.locals&&(e.exports=s.locals)},530:function(e,t,a){var s,i;s=a(383),i=a(618),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},618:function(e,t){e.exports='<div :class=epCss.empBox><pagepanel classname=needpadding direct=bottom><div :class=epCss.empSearch><search pathname="" :datas=sdata :events=searchEvents></search></div></pagepanel><pagepanel><btnbar :buttons=btnsData :events=btnEvents></btnbar><div class=epCss.tBox><tb :headercaption=headercaption :totals.sync=totals :load=load :params=searchParams url=employees :events=tableEvents></tb></div><pg :totals=totals :curpage.sync=searchParams.page></pg></pagepanel><dialog :flag=flagdep @dialogclick=diaologClick :title=optitle><div class="" slot=containerDialog><formtext labelname=姓名： :value.sync=addParams.CardName placeholder=请输入姓名 :vertical=true formname=CardName :validatestart=validate @onvalidate=validateHandler></formtext><formtext labelname=电话： :value.sync=addParams.phone placeholder=请输入电话 :vertical=true :phone=true formname=phone :validatestart=validate @onvalidate=validateHandler></formtext><formcb keyid=name labelname=职位： dropfixed=dropfixed keyname=name formname=roles :vertical=true :value.sync=addParams.roles :datas=getRoles :validatestart=validate @onvalidate=validateHandler></formcb></div></dialog><dialogtip :flag=deleteTag @dialogclick=confirmDelete msg=你确定删除吗？></dialogtip></div>'}});