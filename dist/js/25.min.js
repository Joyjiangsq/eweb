webpackJsonp([25],{4:function(t,e,a){var n,o;n=a(31),o=a(39),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},16:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},s=a(3),d=n(s),l={props:{classname:{type:String,"default":""},load:{type:Boolean,"default":!1},stylein:{type:Object,"default":function(){}},codevalue:{type:String,"default":"id"},headercaption:{type:Array,"default":function(){return[]}},url:{type:String},params:{type:Object,"default":function(){return{}}},totals:{},events:{type:Object,"default":function(){return{operatorHandler:function(t){},operatorRender:function(){return[]}}}},getchecks:{"default":!1},size:{type:Number,"default":10},datas:{type:Array,"default":function(){return[]}}},data:function(){return{dataList:this.datas||[],noresult:!0,loading:!1,adpArry:[]}},computed:{all:function(){for(var t=0,e=0;e<this.dataList.length;e++)this.dataList[e].checkTag&&(t+=1);return!(t<this.dataList.length)}},created:function(){0!=this.dataList.length&&this.$set("loading",!this.loading)},ready:function(){var t=this;this.load&&this.loadData(),0!=this.datas.length&&setTimeout(function(){t.noresult=!1,t.loading=!1,t.adapertDataMin(t.datas)},1)},methods:{getCheckeds:function(){for(var t=[],e=0;e<this.dataList.length;e++){var a=d["default"].cloneObj(this.dataList[e]);delete a.checkTag,delete a.selected,this.dataList[e].checkTag&&t.push(a)}return t},clickOne:function(t,e){},checkedAll:function(){if(this.all)for(var t=0;t<this.dataList.length;t++)this.dataList[t].checkTag=!1;else for(var t=0;t<this.dataList.length;t++)this.dataList[t].checkTag=!0},btnEventHandler:function(t){this.events.operatorHandler.call(this._context,t)},btnData:function(t,e){return this.events.operatorRender.call(this._context,t,e)},adapertData:function(t){if(!t.data||0==t.data.length)return this.noresult=!0,this.loading=!1,!1;this.dataList=[];for(var e=0;e<t.data.length;e++){for(var a=t.data[e],n={},s=0;s<this.headercaption.length;s++){var d=this.headercaption[s];"data"==d.type&&(n[d.labelValue]=a[d.labelValue]),d.adapterFun&&(n[d.labelValue]=d.adapterFun.call(this._context,a)),n._id=a._id,0==e?n.selected=!0:n.selected=!1,d.checkbox&&(a.checkTag=!1)}var l=o(a,n);this.dataList.push(l)}this.$set("loading",!1)},adapertDataMin:function(){if(!this.datas||0==this.datas.length)return this.dataList=[],this.noresult=!0,this.loading=!1,!1;this.dataList=[];for(var t=0;t<this.datas.length;t++){for(var e=this.datas[t],a=0;a<this.headercaption.length;a++){var n=this.headercaption[a];if(n.adapterFun){var o=n.adapterFun.call(this._context,e);e[n.labelValue]=o}n.checkbox&&(e.checkTag=!1)}e.checkTag===!1?this.dataList.push(d["default"].cloneObj(e)):this.dataList.push(e)}},loadData:function(){var t=this;return this.params.size=this.size,this.$http.get(this.$Api+(this.url||""),{params:this.params}).then(function(e){var a=e.json();t.adapertData({data:a.data.docs}),t.$set("totals",a.data.count),t.$dispatch("successload",a.data.docs)})},operatorHandler:function(t,e){this.events.operatorHandler.call(this._context,e,t)}},watch:{load:function(){this.$set("loading",!0),this.$set("noresult",!1),this.loadData()},datas:{deep:!0,handler:function(t,e){this.adapertDataMin()}},getchecks:function(){this.$dispatch("checklist",this.getCheckeds())}}};e["default"]=l},17:function(t,e,a){var n=a(23);"string"==typeof n&&(n=[[t.id,n,""]]);a(2)(n,{});n.locals&&(t.exports=n.locals)},23:function(t,e,a){e=t.exports=a(1)(),e.push([t.id,"._1br7V{border:1px solid #ddd;background-color:#fff}._3Ql65{padding-top:20px}._65pA8{padding:12px;min-height:40px}._3SZgH{background-color:#f8f8f8;border-bottom:1px solid #ddd}._2Vejr,._3SZgH{padding:12px}._3FquF{background-color:#fff;padding:20px}.Yo0Qj{padding-bottom:0}",""]),e.locals={panelBox:"_1br7V",panelIn:"_3Ql65",panelContainer:"_65pA8",panelTitle:"_3SZgH",panelFooter:"_2Vejr",pagePanel:"_3FquF",bottom:"Yo0Qj"}},31:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(30),s=(n(o),a(3)),d=(n(s),a(36)),l=n(d),i=a(10),r=n(i),c=a(38),p=n(c),u=a(16),h=n(u);e["default"]={mixins:[h["default"]],props:{needindex:{"default":!0},needselected:{"default":!1}},data:function(){return{tableCss:l["default"],oldIndex:0}},created:function(){this.headercaption[0].type&&"index"!=this.headercaption[0].type&&this.needindex&&this.headercaption.unshift({type:"index"})},methods:{clickRow:function(t,e){e.selected||(this.dataList[this.oldIndex].selected=!1,e.selected=!0,this.$set("oldIndex",t),this.$dispatch("rowclick",e))}},ready:function(){},attached:function(){},components:{btnbar:r["default"],iconbar:p["default"]}}},33:function(t,e,a){e=t.exports=a(1)(),e.push([t.id,".qYRdM{border-bottom:0;border-left:0;margin-top:10px;margin-bottom:10px}.qYRdM thead{border:1px solid #ddd}.qYRdM table{border:0}._3gQj7 .DKd_g{text-align:right}._3gQj7 .ES9EJ{text-align:left}._3gQj7 ._2Fcxp{display:inline-block;margin:8px;vertical-align:middle}._1C5w-,.m2YMN{background-color:#fff;border-top:0;text-align:center;color:#ccc;padding:50px 0;font-size:12px;border-bottom:1px solid #ddd;border-left:1px solid #ddd;border-right:1px solid #ddd}._22GyM{background-color:#f2f2f2}._7qsuZ{background-color:#fcf3e2}",""]),e.locals={tablelist:"_3gQj7",tableBox:"qYRdM",price:"DKd_g",desc:"ES9EJ",checkTag:"_2Fcxp",noresult:"_1C5w-",loading:"m2YMN",active:"_22GyM",selectedRow:"_7qsuZ"}},36:function(t,e,a){var n=a(33);"string"==typeof n&&(n=[[t.id,n,""]]);a(2)(n,{});n.locals&&(t.exports=n.locals)},39:function(t,e){t.exports='<div :class=tableCss.tableBox :style=stylein><table :class=classname><thead><tr><th v-for="tone in headercaption" :style=tone.style>{{tone.name}}<span v-if=tone.sort>升序</span><span v-if=tone.sort>降序</span></th></tr></thead><tbody v-show="loading? false:noresult? false: true"><tr v-for="(order, done)  in dataList" :class="[done.selected && needselected?tableCss.selectedRow:\'\',order%2 == 1? tableCss.active:\'\']" @click="clickRow(order, done)"><td v-for="sone in headercaption" :class=tableCss[sone.attr]><span v-if="sone.type == \'data\'"><span v-if="sone.attr == \'price\'">￥</span>{{{done[sone.labelValue]?done[sone.labelValue]:(done[sone.labelValue]==0?0:\'-\')}}}</span><span v-if="sone.type == \'component\'"><span v-widget="{widget: sone, data: done, cname: sone.cname}"></span></span><span v-if="sone.type == \'index\'">{{order + 1}}</span><span v-if="sone.type == \'operator\'"><iconbar v-if=sone.icon :buttons=btnData(done,order) @btnclick=btnEventHandler></iconbar><btnbar :buttons=btnData(done,order) @btnclick=btnEventHandler v-else></btnbar></span></td></tr></tbody></table><div v-show=noresult :class=tableCss.noresult>没有数据</div><div v-show=loading :class=tableCss.loading>加载中...</div></div>'},61:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(17),s=n(o);e["default"]={props:{classname:{"default":""}},data:function(){return{panelCss:s["default"]}},computed:{},ready:function(){},attached:function(){},methods:{},components:{}}},62:function(t,e,a){var n,o;n=a(61),o=a(63),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},63:function(t,e){t.exports='<div :class=panelCss.panelIn><div :class="[classname, panelCss.panelBox]"><div :class="[panelCss.panelTitle,\'gradent\']"><slot name=panelTitle>这是标题</slot></div><div :class=panelCss.panelContainer><slot name=panelContent>这是panel</slot></div><div :class=panelCss.panelFooter><slot name=panelFooter></slot></div></div></div>'},380:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(11),s=n(o),d=a(4),l=n(d),i=a(62),r=n(i),c=a(8);e["default"]={data:function(){return{headercaption:[{name:"序号",labelValue:"_id",type:"data"},{name:"系列",labelValue:"catery",type:"data"},{name:"联系人",labelValue:"contact",type:"data",attr:"price"},{name:"地址",labelValue:"detailAddresses",type:"data"},{name:"电话",labelValue:"phone",type:"data"},{name:"区域id",labelValue:"areaId",type:"data"},{name:"供应商",labelValue:"providerName",type:"data"},{type:"operator",name:"操作",labelCaption:[{name:"删除",action:"delete"},{name:"编辑",action:"edit"}]}],loadtag:!1,searchEvents:{onSearch:function(t){this.$set("params",t),this.loadtag=!this.loadtag}},tableClick:{operatorHandler:function(t,e){console.log(this),console.log(t),console.log(e)}},params:{}}},route:{data:function(){(0,c.setTitle)(this.$store,"查询")}},computed:{sa:function(){var t=this.$route.query;return[{type:"cascade",pid:t.pid||1,cid:t.cid||1,aid:t.aid||1,labelcaption:"地址"},{type:"daterange",keynamestart:"start",keynameend:"end",start:t.start||"",end:t.end||"",formate:"yyyy-mm-dd",labelcaption:"范围选择"},{type:"text",limit:"",num:"",value:t.detail||"",keyname:"detail",labelcaption:"详细地址"},{type:"datepicker",keyname:"datename",value:t.datename||"",startdate:"",stopdate:"",formate:"yyyy-mm-dd",labelcaption:"日期"},{type:"datemonth",keyname:"monthDate",value:t.monthDate||"",startdate:"",stopdate:"",formate:"yyyy-mm-dd",labelcaption:"月选择"},{type:"combobox",keyname:"name",labelname:"name",keyid:"id",value:t.name||"",datas:[{name:"test",id:1},{name:"test1",id:2}],labelcaption:"下拉"}]}},ready:function(){this.loadtag=!this.loadtag},attached:function(){},methods:{},components:{panel:r["default"],search:s["default"],tablelist:l["default"]},watch:{}}},527:[655,380,615],615:function(t,e){t.exports='<panel><div slot=panelTitle>查询</div><div slot=panelContent><search pathname=/demo/search :datas=sa :events=searchEvents></search><tablelist :headercaption=headercaption codevalue=_id :params=params :loadtag=loadtag url="" :events=tableClick></tablelist></div><div slot=panelFooter>{{params | json}}</div></panel>'}});